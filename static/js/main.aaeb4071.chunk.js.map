{"version":3,"sources":["pages/Loading.jsx","services/userAPI.js","pages/Login.jsx","components/Header.jsx","components/ArtistCard.jsx","services/searchAlbumsAPI.js","pages/Search.jsx","components/MusicCard.jsx","services/musicsAPI.js","services/favoriteSongsAPI.js","pages/Album.jsx","pages/Favorites.jsx","pages/Profile.jsx","pages/ProfileEdit.jsx","pages/NotFound.jsx","App.js","index.js"],"names":["Loading","Component","USER_KEY","saveUser","user","localStorage","setItem","JSON","stringify","simulateRequest","response","callback","setTimeout","getUser","Promise","resolve","parse","getItem","createUser","name","email","image","description","Login","state","userName","isLoginButtonDisabled","isLoading","dataReceveid","onUserInputChange","target","value","setState","length","loginBtn","a","this","to","htmlFor","type","id","placeholder","onChange","disabled","onClick","Header","userLogged","getUserName","ArtistCard","props","artistName","collectionId","collectionName","imgUrl","artworkUrl100","src","alt","searchAlbumsAPI","PropTypes","string","number","artist","artistNameURL","encodeURI","replaceAll","getAlbumsAPI","fetch","APIResponse","json","results","map","artistId","collectionPrice","releaseDate","trackCount","Search","searchInput","artistAlbum","isSearchInputDisabled","isSearchButtonDisabled","hasReceveid","albumNotFound","onSearchInputChange","searchBtn","getAlbum","MusicCard","music","trackId","trackName","previewUrl","checked","className","controls","kind","getMusics","bool","func","request","requestJson","FAVORITE_SONGS_KEY","readFavoriteSongs","saveFavoriteSongs","favoriteSongs","getFavoriteSongs","addSong","song","removeSong","filter","s","Album","listOfMusics","arrFavMusics","loading","getFavMusics","favsMusics","getMusicsList","musics","musicsList","addOrRemoveFavSong","musicChecked","find","Number","match","params","event","some","Favorites","Profile","ProfileEdit","NotFound","App","exact","path","component","React","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.aaeb4071.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nclass Loading extends Component {\n  render() {\n    return (\n      <div>\n        <h2>Carregando...</h2>\n      </div>\n    );\n  }\n}\n\nexport default Loading;\n","const USER_KEY = 'user';\nconst TIMEOUT = 1500;\nconst SUCCESS_STATUS = 'OK';\n\nconst readUser = () => JSON.parse(localStorage.getItem(USER_KEY));\nconst saveUser = (user) => localStorage.setItem(USER_KEY, JSON.stringify(user));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso mais futuramente\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getUser = () => new Promise((resolve) => {\n  let user = readUser();\n  if (user === null) {\n    user = {};\n  }\n  simulateRequest(user)(resolve);\n});\n\nexport const createUser = (user) => new Promise((resolve) => {\n  const emptyUser = {\n    name: '',\n    email: '',\n    image: '',\n    description: '',\n  };\n  saveUser({ ...emptyUser, ...user });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const updateUser = (updatedUser) => new Promise((resolve) => {\n  saveUser({ ...updatedUser });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router';\nimport Loading from './Loading';\nimport { createUser } from '../services/userAPI';\n\nclass Login extends Component {\n  state = {\n    userName: '',\n    isLoginButtonDisabled: true,\n    isLoading: false,\n    dataReceveid: false,\n  };\n\n  onUserInputChange = ({ target }) => {\n    const { name, value } = target;\n    const minUserName = 3;\n\n    this.setState({\n      [name]: value,\n      isLoginButtonDisabled: value.length < minUserName,\n    });\n  }\n\n  loginBtn = async () => {\n    this.setState({ isLoading: true });\n    const { userName } = this.state;\n    const savedUser = await createUser({ name: userName });\n    if (savedUser) this.setState({ isLoading: false, dataReceveid: true });\n  }\n\n  render() {\n    const { userName, isLoginButtonDisabled, isLoading, dataReceveid } = this.state;\n    return (\n      <div data-testid=\"page-login\">\n        { isLoading && <Loading /> }\n        { dataReceveid && <Redirect to=\"/search\" /> }\n        <form>\n          <label htmlFor=\"userName\">\n            <input\n              type=\"text\"\n              id=\"userName\"\n              name=\"userName\"\n              placeholder=\"Digite o seu nome...\"\n              data-testid=\"login-name-input\"\n              value={ userName }\n              onChange={ this.onUserInputChange }\n            />\n          </label>\n          <button\n            type=\"button\"\n            data-testid=\"login-submit-button\"\n            disabled={ isLoginButtonDisabled }\n            onClick={ this.loginBtn }\n          >\n            Entrar\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Loading from '../pages/Loading';\nimport { getUser } from '../services/userAPI';\n\nclass Header extends Component {\n  state = {\n    userLogged: '',\n    isLoading: true,\n  };\n\n  componentDidMount() {\n    this.getUserName();\n  }\n\n  getUserName = async () => {\n    const { name } = await getUser();\n    if (name) this.setState({ userLogged: name, isLoading: false });\n  }\n\n  render() {\n    const { userLogged, isLoading } = this.state;\n    return (\n      <header data-testid=\"header-component\">\n        <nav>\n          <ul>\n            <li><Link to=\"/search\" data-testid=\"link-to-search\">Search</Link></li>\n            <li>\n              <Link to=\"/favorites\" data-testid=\"link-to-favorites\">Favorites</Link>\n            </li>\n            <li><Link to=\"/profile\" data-testid=\"link-to-profile\">Profile</Link></li>\n          </ul>\n        </nav>\n        {\n          isLoading\n            ? <Loading />\n            : <p data-testid=\"header-user-name\">{ `Olá, ${userLogged}!` }</p>\n        }\n      </header>\n    );\n  }\n}\n\nexport default Header;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nclass ArtistCard extends Component {\n  render() {\n    const {\n      artistName, collectionId, collectionName, artworkUrl100: imgUrl,\n    } = this.props;\n    return (\n      <div>\n        <Link\n          to={ `/album/${collectionId}` }\n          data-testid={ `link-to-album-${collectionId}` }\n        >\n          <div>\n            <img src={ imgUrl } alt={ artistName } />\n            <h3>{artistName}</h3>\n            <h4>{collectionName}</h4>\n          </div>\n        </Link>\n      </div>\n    );\n  }\n}\n\nexport default ArtistCard;\n\nconst { string, number } = PropTypes;\n\nArtistCard.propTypes = {\n  artistName: string.isRequired,\n  collectionId: number.isRequired,\n  collectionName: string.isRequired,\n  artworkUrl100: string.isRequired,\n};\n","const searchAlbumsAPI = async (artist) => {\n  const artistNameURL = encodeURI(artist).replaceAll('%20', '+');\n\n  const getAlbumsAPI = `https://itunes.apple.com/search?entity=album&term=${artistNameURL}&attribute=allArtistTerm`;\n\n  const APIResponse = await fetch(getAlbumsAPI);\n\n  const { results } = await APIResponse.json();\n\n  const response = results.map(\n    ({\n      artistId,\n      artistName,\n      collectionId,\n      collectionName,\n      collectionPrice,\n      artworkUrl100,\n      releaseDate,\n      trackCount,\n    }) => ({\n      artistId,\n      artistName,\n      collectionId,\n      collectionName,\n      collectionPrice,\n      artworkUrl100,\n      releaseDate,\n      trackCount,\n    }),\n  );\n  return response;\n};\n\nexport default searchAlbumsAPI;\n","import React, { Component } from 'react';\nimport Header from '../components/Header';\nimport Loading from './Loading';\nimport ArtistCard from '../components/ArtistCard';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\n\nclass Search extends Component {\n  state = {\n    searchInput: '',\n    artistName: '',\n    artistAlbum: [],\n    isSearchInputDisabled: false,\n    isSearchButtonDisabled: true,\n    hasReceveid: false,\n    albumNotFound: false,\n    isLoading: false,\n  };\n\n  onSearchInputChange = ({ target }) => {\n    const { name, value } = target;\n    const minSearchInput = 2;\n\n    this.setState({\n      [name]: value,\n      isSearchButtonDisabled: value.length < minSearchInput,\n    });\n  }\n\n  searchBtn = async () => {\n    // intrução do requisito 6, entrentanto não passa no teste\n    /* this.setState({\n      isSearchInputDisabled: true,\n      isSearchButtonDisabled: true,\n      isLoading: true,\n    }); */\n    const { searchInput } = this.state;\n    const getAlbum = await searchAlbumsAPI(searchInput);\n    if (getAlbum.length > 0) {\n      this.setState({\n        hasReceveid: true,\n        isLoading: false,\n        artistAlbum: getAlbum,\n        artistName: searchInput,\n        searchInput: '',\n      });\n    } else {\n      this.setState({ albumNotFound: true });\n    }\n  }\n\n  render() {\n    const { artistName, searchInput, artistAlbum,\n      isSearchInputDisabled, isSearchButtonDisabled,\n      hasReceveid, albumNotFound, isLoading,\n    } = this.state;\n    return (\n      <div data-testid=\"page-search\">\n        <Header />\n        <form>\n          <label htmlFor=\"searchInput\">\n            <input\n              type=\"text\"\n              id=\"searchInput\"\n              name=\"searchInput\"\n              placeholder=\"Pesquise por uma música ou banda\"\n              data-testid=\"search-artist-input\"\n              value={ searchInput }\n              disabled={ isSearchInputDisabled }\n              onChange={ this.onSearchInputChange }\n            />\n          </label>\n          <button\n            type=\"button\"\n            data-testid=\"search-artist-button\"\n            disabled={ isSearchButtonDisabled }\n            onClick={ this.searchBtn }\n          >\n            Pesquisar\n          </button>\n        </form>\n        { isLoading && <Loading /> }\n        { hasReceveid && <p>{`Resultado de álbuns de: ${artistName}`}</p> }\n        {\n          artistAlbum.map((artist) => (\n            <ArtistCard\n              key={ artist.collectionId }\n              { ...artist }\n            />\n          ))\n        }\n        { albumNotFound && <p>Nenhum álbum foi encontrado</p> }\n      </div>\n    );\n  }\n}\n\nexport default Search;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass MusicCard extends Component {\n  render() {\n    const { music: { trackId, trackName, previewUrl }, checked, onChange } = this.props;\n    return (\n      <div className=\"musicPlayer\">\n        <h3>{ trackName }</h3>\n        <audio data-testid=\"audio-component\" src={ previewUrl } controls>\n          <track kind=\"captions\" />\n          O seu navegador não suporta o elemento audio.\n        </audio>\n        <label htmlFor={ trackId }>\n          Favorita\n          <input\n            type=\"checkbox\"\n            id={ trackId }\n            data-testid={ `checkbox-music-${trackId}` }\n            onChange={ onChange }\n            checked={ checked }\n          />\n        </label>\n      </div>\n    );\n  }\n}\n\nexport default MusicCard;\n\nconst { bool, func, number, string } = PropTypes;\n\nMusicCard.propTypes = {\n  music: PropTypes.shape({\n    trackId: number,\n    trackName: string,\n    previewUrl: string,\n  }).isRequired,\n  checked: bool.isRequired,\n  onChange: func.isRequired,\n};\n","const getMusics = async (id) => {\n  const request = await fetch(`https://itunes.apple.com/lookup?id=${id}&entity=song`);\n  const requestJson = await request.json();\n  return requestJson.results;\n};\n\nexport default getMusics;\n","const FAVORITE_SONGS_KEY = 'favorite_songs';\nconst TIMEOUT = 500;\nconst SUCCESS_STATUS = 'OK';\n\nif (!JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY))) {\n  localStorage.setItem(FAVORITE_SONGS_KEY, JSON.stringify([]));\n}\nconst readFavoriteSongs = () => JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY));\n\nconst saveFavoriteSongs = (favoriteSongs) => localStorage\n  .setItem(FAVORITE_SONGS_KEY, JSON.stringify(favoriteSongs));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso futuramente.\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getFavoriteSongs = () => new Promise((resolve) => {\n  const favoriteSongs = readFavoriteSongs();\n  simulateRequest(favoriteSongs)(resolve);\n});\n\nexport const addSong = (song) => new Promise((resolve) => {\n  if (song) {\n    const favoriteSongs = readFavoriteSongs();\n    saveFavoriteSongs([...favoriteSongs, song]);\n  }\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const removeSong = (song) => new Promise((resolve) => {\n  const favoriteSongs = readFavoriteSongs();\n  saveFavoriteSongs(favoriteSongs.filter((s) => s.trackId !== song.trackId));\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../components/Header';\nimport MusicCard from '../components/MusicCard';\nimport Loading from './Loading';\nimport getMusics from '../services/musicsAPI';\nimport { addSong, getFavoriteSongs, removeSong } from '../services/favoriteSongsAPI';\n\nclass Album extends Component {\n  state = {\n    artistName: '',\n    collectionName: '',\n    imgUrl: '',\n    listOfMusics: [],\n    arrFavMusics: [],\n    loading: false,\n  }\n\n  componentDidMount() {\n    const { match: { params: { id } } } = this.props;\n    this.getMusicsList(id);\n    this.getFavMusics();\n  }\n\n  getFavMusics = async () => {\n    this.setState({ loading: true });\n    const favsMusics = await getFavoriteSongs();\n    if (!favsMusics) this.setState({ loading: false });\n    if (favsMusics) {\n      this.setState({\n        loading: false,\n        arrFavMusics: favsMusics,\n      });\n    }\n  }\n\n  getMusicsList = async (id) => {\n    const musics = await getMusics(id);\n    const musicsList = musics.filter(({ kind }) => kind === 'song');\n    this.setState({\n      artistName: musics[0].artistName,\n      collectionName: musics[0].collectionName,\n      imgUrl: musics[0].artworkUrl100,\n      listOfMusics: musicsList,\n    });\n  }\n\n  addOrRemoveFavSong = async ({ target }) => {\n    this.setState({ loading: true });\n\n    const { checked, id } = target;\n    const { listOfMusics } = this.state;\n    const musicChecked = listOfMusics.find(({ trackId }) => trackId === Number(id));\n    if (checked) {\n      await addSong(musicChecked);\n    } else {\n      await removeSong(musicChecked);\n    }\n    this.setState({ loading: false }, () => this.getFavMusics());\n  }\n\n  render() {\n    const {\n      artistName, collectionName, imgUrl, listOfMusics, arrFavMusics, loading,\n    } = this.state;\n    return (\n      <div data-testid=\"page-album\">\n        <Header />\n        {\n          loading\n            ? <Loading />\n            : (\n              <div>\n                <h3 data-testid=\"artist-name\">{ artistName }</h3>\n                <h3 data-testid=\"album-name\">{ collectionName }</h3>\n                <img src={ imgUrl } alt={ artistName } />\n                {\n                  listOfMusics.map((music) => (\n                    <MusicCard\n                      key={ music.trackName }\n                      music={ music }\n                      onChange={ (event) => this.addOrRemoveFavSong(event) }\n                      checked={ arrFavMusics\n                        .some(({ trackId }) => trackId === music.trackId) }\n                    />\n                  ))\n                }\n              </div>\n            )\n        }\n      </div>\n    );\n  }\n}\n\nexport default Album;\n\nAlbum.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string,\n    }),\n  }).isRequired,\n};\n","import React, { Component } from 'react';\nimport Header from '../components/Header';\nimport MusicCard from '../components/MusicCard';\nimport Loading from './Loading';\nimport { addSong, getFavoriteSongs, removeSong } from '../services/favoriteSongsAPI';\n\nclass Favorites extends Component {\n  state = {\n    arrFavMusics: [],\n    loading: false,\n  }\n\n  componentDidMount() {\n    this.getFavMusics();\n  }\n\n  getFavMusics = async () => {\n    this.setState({ loading: true });\n    const favsMusics = await getFavoriteSongs();\n    if (!favsMusics) this.setState({ loading: false });\n    if (favsMusics) {\n      this.setState({\n        loading: false,\n        arrFavMusics: favsMusics,\n      });\n    }\n  }\n\n  addOrRemoveFavSong = async ({ target }) => {\n    this.setState({ loading: true });\n\n    const { checked, id } = target;\n    const { arrFavMusics } = this.state;\n    const musicChecked = arrFavMusics.find(({ trackId }) => trackId === Number(id));\n    if (checked) {\n      await addSong(musicChecked);\n    } else {\n      await removeSong(musicChecked);\n    }\n    this.setState({ loading: false }, () => this.getFavMusics());\n  }\n\n  render() {\n    const { arrFavMusics, loading } = this.state;\n    return (\n      <div data-testid=\"page-favorites\">\n        <Header />\n        <p>Favorites Page</p>\n        {\n          loading\n            ? <Loading />\n            : (\n              <div>\n                {\n                  arrFavMusics.map((music) => (\n                    <MusicCard\n                      key={ music.trackName }\n                      music={ music }\n                      onChange={ (event) => this.addOrRemoveFavSong(event) }\n                      checked={ arrFavMusics\n                        .some(({ trackId }) => trackId === music.trackId) }\n                    />\n                  ))\n                }\n              </div>\n            )\n        }\n      </div>\n    );\n  }\n}\n\nexport default Favorites;\n","import React, { Component } from 'react';\nimport Header from '../components/Header';\n\nclass Profile extends Component {\n  render() {\n    return (\n      <div data-testid=\"page-profile\">\n        <Header />\n        <p>Profile Page</p>\n      </div>\n    );\n  }\n}\n\nexport default Profile;\n","import React, { Component } from 'react';\nimport Header from '../components/Header';\n\nclass ProfileEdit extends Component {\n  render() {\n    return (\n      <div data-testid=\"page-profile-edit\">\n        <Header />\n        <p>ProfileEdit Page</p>\n      </div>\n    );\n  }\n}\n\nexport default ProfileEdit;\n","import React, { Component } from 'react';\n\nclass NotFound extends Component {\n  render() {\n    return (\n      <div data-testid=\"page-not-found\">\n        <p>NotFound Page</p>\n      </div>\n    );\n  }\n}\n\nexport default NotFound;\n","import React from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport Login from './pages/Login';\nimport Search from './pages/Search';\nimport Album from './pages/Album';\nimport Favorites from './pages/Favorites';\nimport Profile from './pages/Profile';\nimport ProfileEdit from './pages/ProfileEdit';\nimport NotFound from './pages/NotFound';\n\nclass App extends React.Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <Switch>\n          <Route exact path=\"/\" component={ Login } />\n          <Route path=\"/search\" component={ Search } />\n          <Route path=\"/album/:id\" component={ Album } />\n          <Route path=\"/favorites\" component={ Favorites } />\n          <Route path=\"/profile/edit\" component={ ProfileEdit } />\n          <Route exact path=\"/profile\" component={ Profile } />\n          <Route path=\"*\" component={ NotFound } />\n        </Switch>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}